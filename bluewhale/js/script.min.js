function getXmlHttp(){var a;try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=!1}}return a||"undefined"==typeof XMLHttpRequest||(a=new XMLHttpRequest),a}function sendMessage(a){var b,c=getXmlHttp();a.classList.add("loading"),c.open("POST","mail.php",!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send("name="+encodeURIComponent(a.elements[0].value)+"&contacts="+encodeURIComponent(a.elements[1].value)+"&text="+encodeURIComponent(a.elements[2].value)),c.onreadystatechange=function(){4==c.readyState&&(b=200==c.status?"success":"error",setTimeout(function(){a.classList.add(b)},1500)),setTimeout(function(){a.className="",a.reset()},3e3)}}function fadeNavigation(){window.pageYOffset>5*window.vh?window.nav.classList.add("scroll"):window.nav.classList.remove("scroll")}function calculateScreen(){window.vw=document.body.clientWidth/100,window.vh=document.body.clientHeight/100}var vw,vh,nav,ul;console.log(nav);var Parallax={containers:[],add:function(a){this.containers.push(document.querySelector(a))},move:function(){for(var a,b,c=0;c<this.containers.length;c++)a=this.containers[c].getAttribute("data-direction"),b=this.containers[c].getAttribute("data-speed"),stockX=this.containers[c].getAttribute("data-posx")?this.containers[c].getAttribute("data-posx").slice(0,this.containers[c].getAttribute("data-posx").length-2):1,stockY=this.containers[c].getAttribute("data-posy")?this.containers[c].getAttribute("data-posy").slice(0,this.containers[c].getAttribute("data-posy").length-2):1,"horizontal"==a?this.containers[c].style.backgroundPositionY=(window.pageYOffset+stockY*vh)*+b+"px":"vertical"==a?this.containers[c].style.backgroundPositionX=(window.pageYOffset+stockX*vw)*+b+"px":"fixed"==a&&(this.containers[c].style.backgroundPositionY=window.pageYOffset+"px")}};window.onload=function(){window.nav=document.getElementById("navigation"),document.getElementById("toggle_nav").onclick=function(){window.nav.classList.toggle("toggle")},document.getElementById("menu").onclick=function(){window.nav.classList.remove("toggle")},document.getElementById("ajax_mail").onsubmit=function(a){sendMessage(a.target),a.preventDefault()},calculateScreen(),fadeNavigation(),Parallax.add("#parallax"),Parallax.add("#parallax .mask1"),Parallax.add("#parallax .mask2"),Parallax.move(),window.onresize=function(){calculateScreen()},window.onscroll=function(){Parallax.move(),fadeNavigation()}};
